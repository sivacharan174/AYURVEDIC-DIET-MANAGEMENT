<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#FFF8E1">

    <!-- Toolbar -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="56dp"
        android:background="#FF6F00"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:paddingHorizontal="16dp">

        <ImageView
            android:id="@+id/btnBack"
            android:layout_width="24dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_back"
            app:tint="@android:color/white"
            android:contentDescription="Back" />

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Food Conflicts (Viruddha Ahara)"
            android:textColor="@android:color/white"
            android:textSize="16sp"
            android:textStyle="bold"
            android:layout_marginStart="16dp" />

    </LinearLayout>

    <!-- Warning Banner (shown when conflicts exist) -->
    <LinearLayout
        android:id="@+id/warningBanner"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:background="#FFCDD2"
        android:padding="12dp"
        android:gravity="center_vertical"
        android:visibility="gone">

        <ImageView
            android:layout_width="24dp"
            android:layout_height="24dp"
            android:src="@android:drawable/ic_dialog_alert"
            app:tint="#C62828" />

        <TextView
            android:id="@+id/tvWarning"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_marginStart="12dp"
            android:text="Incompatible foods detected!"
            android:textColor="#C62828"
            android:textStyle="bold" />

    </LinearLayout>

    <!-- Info Card -->
    <androidx.cardview.widget.CardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="16dp"
        app:cardCornerRadius="12dp"
        app:cardElevation="2dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="What is Viruddha Ahara?"
                android:textSize="16sp"
                android:textStyle="bold"
                android:textColor="#E65100" />

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:text="Viruddha Ahara refers to incompatible food combinations that can cause digestive issues, toxin accumulation (Ama), and health problems according to Ayurveda. Examples include milk with sour fruits, honey with hot foods, or fish with dairy."
                android:textSize="13sp"
                android:textColor="#666666"
                android:lineSpacingExtra="4dp" />

        </LinearLayout>
    </androidx.cardview.widget.CardView>

    <!-- Conflict Summary -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:paddingHorizontal="16dp"
        android:paddingVertical="8dp">

        <TextView
            android:id="@+id/tvConflictCount"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="0 Conflicts Found"
            android:textSize="14sp"
            android:textStyle="bold"
            android:textColor="#333333" />

        <View
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:layout_weight="1" />

        <!-- Legend -->
        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:orientation="horizontal">

            <View
                android:layout_width="12dp"
                android:layout_height="12dp"
                android:background="#C62828"
                android:layout_gravity="center_vertical" />
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" Severe  "
                android:textSize="11sp" />

            <View
                android:layout_width="12dp"
                android:layout_height="12dp"
                android:background="#FF8F00"
                android:layout_gravity="center_vertical" />
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" Moderate  "
                android:textSize="11sp" />

            <View
                android:layout_width="12dp"
                android:layout_height="12dp"
                android:background="#FBC02D"
                android:layout_gravity="center_vertical" />
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" Mild"
                android:textSize="11sp" />

        </LinearLayout>

    </LinearLayout>

    <!-- Conflicts List -->
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rvConflicts"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:padding="16dp"
        android:clipToPadding="false" />

    <!-- Loading -->
    <ProgressBar
        android:id="@+id/progressBar"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:visibility="gone" />

    <!-- Empty State -->
    <LinearLayout
        android:id="@+id/emptyState"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:orientation="vertical"
        android:gravity="center"
        android:visibility="gone"
        android:padding="32dp">

        <ImageView
            android:layout_width="80dp"
            android:layout_height="80dp"
            android:src="@android:drawable/ic_dialog_info"
            app:tint="#4CAF50" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="16dp"
            android:text="No Conflicts Found!"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="#4CAF50" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:text="All selected foods are compatible according to Ayurvedic principles."
            android:textSize="14sp"
            android:textColor="#666666"
            android:textAlignment="center" />

    </LinearLayout>

    <!-- Action Button -->
    <Button
        android:id="@+id/btnProceed"
        android:layout_width="match_parent"
        android:layout_height="56dp"
        android:layout_margin="16dp"
        android:text="Proceed with Diet"
        android:textColor="@android:color/white"
        android:textAllCaps="false"
        android:background="@drawable/btn_get_started" />

</LinearLayout>
